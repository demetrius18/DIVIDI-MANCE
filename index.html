<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dividi Mance nel Gruppo 💰</title>
<style>
* { box-sizing: border-box; margin:0; padding:0; }
body {
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    background: linear-gradient(135deg, #d9f0f0, #a8e0d8);
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    padding: 20px;
    color: #333;
}
.container {
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(10px);
    padding: 30px;
    border-radius: 25px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    width: 100%;
    max-width: 500px;
}
h1 {
    text-align: center;
    color: #075e54;
    font-size: 28px;
    margin-bottom: 20px;
}
label { font-weight: 600; display: block; margin-bottom: 6px; color: #075e54; }
input {
    width: 100%;
    padding: 14px;
    border-radius: 16px;
    border: 1px solid #ccc;
    font-size: 16px;
    margin-bottom: 15px;
}
input:focus { border-color: #25d366; outline: none; }
button {
    width: 100%;
    padding: 16px;
    font-size: 18px;
    border-radius: 20px;
    border: none;
    background: #25d366;
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-bottom: 15px;
}
button:hover { background: #1da851; transform: scale(1.03); }
#citazione { 
    font-style: italic; 
    color: #555; 
    text-align: center; 
    margin: 20px 0; 
    font-size: 14px; 
}
textarea {
    width: 100%;
    height: 220px;
    border-radius: 20px;
    border: 1px solid #ccc;
    padding: 12px;
    font-size: 16px;
    resize: none;
    background: rgba(249,249,249,0.95);
    margin-bottom: 10px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

<div class="container">
<h1>Dividi Mance nel Gruppo 💰</h1>

<label for="totale">Importo totale (€):</label>
<input type="number" id="totale" placeholder="Es. 120">

<div id="citazione">"Si diceva in un contesto di servizio che, per il cassiere, l'eroe non esiste, ma la sua fatica è evidente."</div>

<button onclick="inviaAlGruppo()">Invia al Gruppo</button>

<textarea id="messaggio" readonly placeholder="Messaggio generato..."></textarea>
</div>

<script>
// Membri e relative emoji personalizzate
const persone = [
  {nome: "Andrea", emoji: "🧑‍💼"},
  {nome: "Gaetano", emoji: "👨‍💼"},
  {nome: "Margen", emoji: "👩‍💼"},
  {nome: "Simone", emoji: "🧑‍💻"},
  {nome: "Manuela", emoji: "👩‍💻"},
  {nome: "Dmitri", emoji: "🧑‍🔧"}
];

// Link del gruppo WhatsApp
const gruppoLink = "https://chat.whatsapp.com/LukOoesFaBBEWtcWL2rNd7";

function inviaAlGruppo(){
    const totale = parseFloat(document.getElementById('totale').value);
    if(!totale){
        alert('Inserisci un totale valido.');
        return;
    }

    const importo = (totale/persone.length).toFixed(2);

    // Messaggio elegante con emoji e separazioni
    let messaggio = `📢 *Mancia Totale: €${totale}*\n`;
    messaggio += `_"Si diceva in un contesto di servizio che, per il cassiere, l'eroe non esiste, ma la sua fatica è evidente."_ \n\n`;
    messaggio += `💸 *Divisione tra i membri:*\n`;

    persone.forEach((p, i)=>{
        messaggio += `🔹 ${p.emoji} ${p.nome} → €${importo}\n`;
    });

    messaggio += `\n✅ Buon lavoro a tutti!`;

    document.getElementById('messaggio').value = messaggio;

    // Apri WhatsApp per il gruppo tramite link di invito
    const url = `${gruppoLink}?text=${encodeURIComponent(messaggio)}`;
    window.open(url,'_blank');
}
</script>

</body>
</html>
